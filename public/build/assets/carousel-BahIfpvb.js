import{r as c,j as n}from"./app-CnsSQP6f.js";import{c as u}from"./utils-CoY9beR0.js";import{u as z}from"./use-motion-value-c3elcYtX.js";import{m as g}from"./proxy-Bk6Eb1Sg.js";import{C as E}from"./chevron-left-BW1nDIfW.js";import{C as I}from"./chevron-right-CVL_qimM.js";const C=c.createContext(void 0);function x(){const t=c.useContext(C);if(!t)throw new Error("useCarousel must be used within an CarouselProvider");return t}function w({children:t,initialIndex:o=0,onIndexChange:r,disableDrag:e=!1}){const[i,a]=c.useState(o),[s,p]=c.useState(0),f=l=>{a(l),r==null||r(l)};return c.useEffect(()=>{a(o)},[o]),n.jsx(C.Provider,{value:{index:i,setIndex:f,itemsCount:s,setItemsCount:p,disableDrag:e},children:t})}function S({children:t,className:o,initialIndex:r=0,index:e,onIndexChange:i,disableDrag:a=!1}){const[s,p]=c.useState(r),f=e!==void 0,l=f?e:s,m=d=>{f||p(d),i==null||i(d)};return n.jsx(w,{initialIndex:l,onIndexChange:m,disableDrag:a,children:n.jsx("div",{className:u("group/hover relative",o),children:n.jsx("div",{className:"overflow-hidden",children:t})})})}function V({className:t,classNameButton:o,alwaysShow:r}){const{index:e,setIndex:i,itemsCount:a}=x();return n.jsxs("div",{className:u("pointer-events-none absolute left-[5%] top-1/2 flex w-[90%] -translate-y-1/2 justify-between px-2",t),children:[n.jsx("button",{type:"button","aria-label":"Previous slide",className:u("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",r?"opacity-100":"opacity-0 group-hover/hover:opacity-100",r?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",o),disabled:e===0,onClick:()=>{e>0&&i(e-1)},children:n.jsx(E,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})}),n.jsx("button",{type:"button",className:u("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",r?"opacity-100":"opacity-0 group-hover/hover:opacity-100",r?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",o),"aria-label":"Next slide",disabled:e+1===a,onClick:()=>{e<a-1&&i(e+1)},children:n.jsx(I,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})})]})}function X({className:t,classNameButton:o}){const{index:r,itemsCount:e,setIndex:i}=x();return n.jsx("div",{className:u("absolute bottom-4 z-10 flex w-full items-center justify-start ps-4",t),children:n.jsx("div",{className:"flex space-x-2",children:Array.from({length:e},(a,s)=>n.jsx("button",{type:"button","aria-label":`Go to slide ${s+1}`,onClick:()=>i(s),className:u("h-2 w-2 rounded-full transition-opacity duration-300 hover:cursor-pointer",r===s?"bg-secondary dark:bg-secondary":"bg-secondary/50 dark:bg-secondary/50",o)},s))})})}function $({children:t,className:o,transition:r}){const{index:e,setIndex:i,setItemsCount:a,disableDrag:s}=x(),[p,f]=c.useState(1),l=z(0),m=c.useRef(null),d=c.Children.count(t);c.useEffect(()=>{if(!m.current)return;const v={root:m.current,threshold:.5},h=new IntersectionObserver(b=>{const k=b.filter(N=>N.isIntersecting).length;f(k)},v),j=m.current.children;return Array.from(j).forEach(b=>h.observe(b)),()=>h.disconnect()},[t,a]),c.useEffect(()=>{d&&a(d)},[d,a]);const y=()=>{const v=l.get();v<=-10&&e<d-1?i(e+1):v>=10&&e>0&&i(e-1)};return n.jsx(g.div,{drag:s?!1:"x",dragConstraints:s?void 0:{left:0,right:0},dragMomentum:s?void 0:!1,style:{x:s?void 0:l},animate:{translateX:`-${e*(100/p)}%`},onDragEnd:s?void 0:y,transition:r||{damping:18,stiffness:90,type:"spring",duration:.2},className:u("flex items-center",!s&&"cursor-grab active:cursor-grabbing",o),ref:m,children:t})}function G({children:t,className:o}){return n.jsx(g.div,{className:u("w-full min-w-0 shrink-0 grow-0 overflow-hidden",o),children:t})}export{S as C,$ as a,G as b,V as c,X as d};
