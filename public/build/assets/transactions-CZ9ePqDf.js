import{r as o,j as a,L as d,$ as i}from"./app-Dgckegnv.js";import{H as c}from"./heading-BHSrHlhh.js";import{I as m}from"./input-BD0fYVX6.js";import{P as n}from"./layout-CSvjFfMn.js";import{U as h}from"./user-layout-CYRNyPW9.js";import"./utils-DN5XrRsW.js";import"./breadcrumbs-DXzCRTQZ.js";import"./index-DqG1Ybe7.js";import"./button-BoodZbDI.js";import"./index-Bnki4qJp.js";import"./createLucideIcon-DZLt22s0.js";import"./index-DceXYycZ.js";import"./Combination-CkIyJKU1.js";import"./tooltip-DgquA2lM.js";import"./index-vAr0PSoc.js";import"./index-CXL3M-S_.js";import"./index-i13DJ0cz.js";import"./index-CFFcSk3v.js";import"./floating-ui.react-dom-BeNTttOg.js";import"./index-CGbg7ddt.js";import"./index-o9BV7QGe.js";import"./dropdown-menu-Dizpp5Uw.js";import"./index-Dod2iQFJ.js";import"./circle-jtg-dWIt.js";import"./check-CaxtEiYr.js";import"./user-oMHXl0Rl.js";import"./chevron-right-BbU9hTT5.js";import"./monitor-play-errSkG_I.js";import"./presentation-D1qCxXn0.js";import"./sonner-Dj4yg8c4.js";import"./index-3vKnZ8mb.js";import"./index-BtwDZs-i.js";import"./search-DjVWkjRD.js";function Q({myTransactions:p}){const[r,l]=o.useState(""),s=p.flatMap(e=>[...(e.course_items||[]).map(t=>({type:"Course",title:t.course.title,slug:t.course.slug,price:t.price,invoice_status:e.status,invoice_code:e.invoice_code,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at})),...(e.bootcamp_items||[]).map(t=>({type:"Bootcamp",title:t.bootcamp.title,slug:t.bootcamp.slug,price:t.price,invoice_status:e.status,invoice_code:e.invoice_code,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at})),...(e.webinar_items||[]).map(t=>({type:"Webinar",title:t.webinar.title,slug:t.webinar.slug,price:t.price,invoice_status:e.status,invoice_code:e.invoice_code,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at}))]).filter(e=>e.title.toLowerCase().includes(r.toLowerCase()));return a.jsxs(h,{children:[a.jsx(d,{title:"Transaksi Saya"}),a.jsxs(n,{children:[a.jsx(c,{title:"Transaksi Saya",description:"Lihat riwayat transaksi Anda di sini"}),a.jsx("div",{className:"mb-4 flex justify-between gap-2",children:a.jsx(m,{type:"search",placeholder:"Cari judul transaksi...",value:r,onChange:e=>l(e.target.value)})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 dark:bg-zinc-800",children:[a.jsx("th",{className:"border px-3 py-2",children:"Tipe"}),a.jsx("th",{className:"border px-3 py-2",children:"Judul"}),a.jsx("th",{className:"border px-3 py-2",children:"Status"}),a.jsx("th",{className:"border px-3 py-2",children:"Metode Pembayaran"}),a.jsx("th",{className:"border px-3 py-2",children:"Kode Invoice"}),a.jsx("th",{className:"border px-3 py-2",children:"Dibayar Pada"})]})}),a.jsx("tbody",{children:s.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-500",children:"Belum ada transaksi."})}):s.map((e,t)=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"border px-3 py-2",children:e.type==="Course"?"Kelas Online":e.type}),a.jsx("td",{className:"border px-3 py-2",children:a.jsx(i,{href:`/profile/my-${e.type.toLowerCase()}s/${e.slug}`,className:"text-primary hover:underline",children:e.title})}),a.jsx("td",{className:"border px-3 py-2",children:e.invoice_status==="paid"?a.jsx("span",{className:"text-green-600",children:"Sudah Dibayar"}):a.jsx("span",{className:"text-red-600",children:"Belum Dibayar"})}),a.jsx("td",{className:"border px-3 py-2",children:e.payment_channel||"-"}),a.jsx("td",{className:"border px-3 py-2",children:e.invoice_code}),a.jsx("td",{className:"border px-3 py-2",children:e.paid_at||"-"})]},t))})]})})]})]})}export{Q as default};
