import{r as x,j as e,L as H,S as K}from"./app-DiJOpchw.js";import{B as v}from"./button-5OFXcais.js";import{a as B,C as J,b as w}from"./calendar-D8UCbP6t.js";import{C as V}from"./checkbox-DreoO2GC.js";import{u as Q,F as X,a as l,b as i,c,d as g,e as m,P as b,f,g as k,C as Z,h as ee,i as ae,j as te,k as ne,l as se,m as N}from"./popover-C-LZTX79.js";import{I as p}from"./input-BjYmRNk6.js";import{T as y}from"./textarea-DZcYz1Sd.js";import{A as re}from"./admin-layout-BrlcPaRO.js";import{c as W,r as oe,p as le}from"./utils-C8MUq-y1.js";import{B as ie,s as ce,o as me,a as de,n as D,b as d,c as pe}from"./types-k4hQqmDF.js";import{E as ue}from"./Editor-Djt8wBdk.js";import{t as he}from"./index-CNE6fjJR.js";import{e as xe,t as ge,q as je}from"./format-Bp4OdCl_.js";import{C as ve}from"./chevrons-up-down-5CK6_B3y.js";import{C as be}from"./check-ssoc2dou.js";import{C as $}from"./chevron-down-BHENyxpF.js";import{s as fe,a as ke,b as Se}from"./setSeconds-Bkh18Hr9.js";import"./index-CIK7fpQ2.js";import"./createLucideIcon-DKDFERHj.js";import"./chevron-left-DxtZS4-g.js";import"./chevron-right-Ctoky5F0.js";import"./index-Bc783D3z.js";import"./index-BPu_V-K-.js";import"./index-izb7qtpW.js";import"./index-D5mdLAAu.js";import"./index-DhzV2jKz.js";import"./index-Bn3MLi6D.js";import"./index-3doH0Yt9.js";import"./Combination-Baw02jyl.js";import"./floating-ui.react-dom-yHXoPCar.js";import"./search-D9IQ70wZ.js";import"./label-NIjZyLYO.js";import"./sonner-BoU-t8II.js";import"./breadcrumbs-CJvtZdJf.js";import"./tooltip-DsYhlSPs.js";import"./index-rWur4EJ2.js";import"./index-CgIaq9Ii.js";import"./dropdown-menu-CuYDeOZn.js";import"./index-BSloASfz.js";import"./circle-CD8vtyIM.js";import"./user-MuUbZGtR.js";import"./user-check-CxolwCju.js";import"./users-iiJ1BNRq.js";import"./monitor-play-Cryr9eIl.js";import"./presentation-Dtu3K1iv.js";import"./dollar-sign-BLUpnHwP.js";function Ce(u,j,S){return xe(u,+ge(u)+j)}function we(u,j,S){return Ce(u,j*je)}const Ne=[{title:"Webinar",href:route("webinars.index")},{title:"Tambah Webinar Baru",href:route("webinars.create")}],ye=me({title:d().nonempty("Judul harus diisi"),category_id:d().nonempty("Kategori harus dipilih"),description:d().nullable(),benefits:d().nullable(),thumbnail:pe().nullable(),start_time:d(),end_time:d(),registration_deadline:d(),host_name:d().nullable(),host_description:d().nullable(),price:D().min(0),quota:D().min(0),group_url:d().nullable(),batch:D().min(0),tools:de(d()).optional()});function ba({categories:u,tools:j}){const[S,T]=x.useState(!1),[q,F]=x.useState(!1),[R,_]=x.useState(!1),[Y,M]=x.useState(!1),[z,I]=x.useState(null),[A,P]=x.useState(!1),L=new Date,E=B(L,7),U=we(E,2);let h=B(L,6);h=fe(h,23),h=ke(h,59),h=Se(h,0);const s=Q({resolver:ce(ye),defaultValues:{title:"",category_id:"",description:"",benefits:`<ul>
                        <li>Mendapatkan materi eksklusif (Contoh)</li>
                        <li>Sertifikat peserta (Contoh)</li>
                        <li>Akses rekaman webinar (Contoh)</li>
                    </ul>`,thumbnail:"",start_time:E.toISOString(),end_time:U.toISOString(),registration_deadline:h.toISOString(),host_name:"",host_description:"",price:0,quota:0,group_url:"",batch:1,tools:[]}});function G(a){K.post(route("webinars.store"),a,{forceFormData:!0})}return e.jsxs(re,{breadcrumbs:Ne,children:[e.jsx(H,{title:"Tambah Webinar Baru"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Tambah Webinar Baru"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:'Silakan isi form di bawah ini untuk membuat webinar baru. Setelah selesai, klik tombol "Simpan Draft" untuk menyimpan webinar sebagai draft.'}),e.jsx(X,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(G),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{size:16}),e.jsx("h3",{className:"font-medium",children:"Detail Informasi Webinar"})]}),e.jsx(l,{control:s.control,name:"title",render:({field:a})=>e.jsxs(i,{children:[e.jsxs(c,{children:["Judul Webinar ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{children:e.jsx(p,{placeholder:"Masukkan judul webinar",...a,autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"category_id",render:({field:a})=>{var t;return e.jsxs(i,{className:"flex flex-col",children:[e.jsxs(c,{children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(b,{open:S,onOpenChange:T,children:[e.jsx(f,{asChild:!0,children:e.jsx(g,{children:e.jsxs(v,{variant:"outline",role:"combobox",className:W("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(t=u.find(n=>n.id===a.value))==null?void 0:t.name:"Pilih kategori",e.jsx("span",{className:"sr-only",children:"Pilih kategori"}),e.jsx(ve,{className:"opacity-50"})]})})}),e.jsx(k,{className:"p-0",children:e.jsxs(Z,{children:[e.jsx(ee,{placeholder:"Cari kategori...",className:"h-9"}),e.jsxs(ae,{children:[e.jsx(te,{children:"Tidak ada kategori ditemukan."}),e.jsx(ne,{children:u.map(n=>e.jsxs(se,{value:n.name,onSelect:()=>{s.setValue("category_id",n.id),T(!1)},children:[n.name,e.jsx(be,{className:W("ml-auto",n.id===a.value?"opacity-100":"opacity-0")})]},n.id))})]})]})})]}),e.jsx(m,{})]})}}),e.jsx(l,{control:s.control,name:"tools",render:()=>e.jsxs(i,{children:[e.jsx(c,{children:"Tools yang Digunakan"}),e.jsx("div",{className:"text-muted-foreground mb-2 text-sm",children:"Pilih tools yang digunakan pada bootcamp ini."}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:j.map(a=>e.jsx(l,{control:s.control,name:"tools",render:({field:t})=>{var n;return e.jsxs(i,{className:"flex flex-row items-center gap-2 space-y-0",children:[e.jsx(g,{children:e.jsx(V,{checked:(n=t.value)==null?void 0:n.includes(a.id),onCheckedChange:o=>{var r;o?t.onChange([...t.value??[],a.id]):t.onChange((r=t.value)==null?void 0:r.filter(C=>C!==a.id))}})}),e.jsx(c,{className:"text-sm font-normal",children:a.name})]})}},a.id))}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"description",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Deskripsi Lengkap"}),e.jsx(y,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi lengkap",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"thumbnail",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Thumbnail (File Upload)"}),e.jsx("img",{src:z||"/assets/images/placeholder.png",alt:"Preview Thumbnail",className:"my-1 mt-2 h-40 w-64 rounded border object-cover"}),e.jsx(p,{type:"file",name:a.name,accept:"image/*",className:A?"border-red-500 focus-visible:ring-red-500":"",onChange:t=>{var o;const n=((o=t.target.files)==null?void 0:o[0])??null;if(n&&n.size>2*1024*1024){P(!0),he("Ukuran file maksimal 2MB!");return}if(P(!1),a.onChange(n),n){const r=new FileReader;r.onload=C=>{var O;return I((O=C.target)==null?void 0:O.result)},r.readAsDataURL(n)}else I(null)}}),e.jsx(N,{className:"ms-1",children:"Upload Icon. Format: PNG atau JPG Max 2 Mb"}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"price",render:({field:a})=>e.jsxs(i,{children:[e.jsxs(c,{children:["Harga ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(p,{...a,type:"text",placeholder:"Masukkan harga kursus",value:oe.format(a.value||0),onChange:t=>a.onChange(le(t.target.value)),autoComplete:"off"}),e.jsx(N,{className:"ms-1",children:"Isi 0 untuk harga webinar gratis"}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"batch",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Batch"}),e.jsx(g,{children:e.jsx(p,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan batch",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"quota",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Kuota Peserta"}),e.jsx(g,{children:e.jsx(p,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan kuota peserta",autoComplete:"off"})}),e.jsx(N,{className:"ms-1",children:"Isi 0 untuk kuota tak terbatas"}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{size:16}),e.jsx("h3",{className:"font-medium",children:"Tanggal dan Informasi Pemateri"})]}),e.jsx(l,{control:s.control,name:"start_time",render:({field:a})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsxs(c,{children:["Waktu Mulai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(b,{open:q,onOpenChange:F,children:[e.jsx(f,{asChild:!0,children:e.jsxs(v,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx($,{})]})}),e.jsx(k,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(w,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{if(!t)return;const o=(a.value?new Date(a.value):new Date).toTimeString().slice(0,8)||"00:00:00",r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;a.onChange(`${r}T${o}`),F(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,o=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,r=t.target.value||"00:00";a.onChange(`${o}T${r}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"end_time",render:({field:a})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsxs(c,{children:["Waktu Selesai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(b,{open:R,onOpenChange:_,children:[e.jsx(f,{asChild:!0,children:e.jsxs(v,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx($,{})]})}),e.jsx(k,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(w,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{const o=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],r=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(r&&o?`${r}T${o}`:""),_(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,o=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,r=t.target.value||"00:00";a.onChange(`${o}T${r}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"registration_deadline",render:({field:a})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsxs(c,{children:["Deadline Pendaftaran ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(b,{open:Y,onOpenChange:M,children:[e.jsx(f,{asChild:!0,children:e.jsxs(v,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx($,{})]})}),e.jsx(k,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(w,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{const o=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],r=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(r&&o?`${r}T${o}`:""),M(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,o=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,r=t.target.value||"00:00";a.onChange(`${o}T${r}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"host_name",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Nama Pemateri"}),e.jsx(g,{children:e.jsx(p,{placeholder:"Masukkan nama pemateri",...a,value:a.value??"",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"host_description",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Deskripsi Pemateri"}),e.jsx(y,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi pemateri",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"benefits",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Benefit Mengikuti Webinar"}),e.jsx(ue,{apiKey:"7apjqdre3ocnt08y5t5zlqyaytlom537pj6qbe0hlxhborco",value:a.value??"",onEditorChange:t=>a.onChange(t),init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount"],onboarding:!1,toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],height:300}}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"group_url",render:({field:a})=>e.jsxs(i,{children:[e.jsx(c,{children:"Link Group Peserta"}),e.jsx(y,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan link grup peserta",autoComplete:"off"}),e.jsx(m,{})]})})]}),e.jsx(v,{type:"submit",className:"hover:cursor-pointer",children:"Simpan Draft"})]})})]})]})}export{ba as default};
