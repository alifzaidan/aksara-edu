import{r as b,m as f,j as e,K as N,L as y,$ as w}from"./app-DHz4egQq.js";import{I as m}from"./input-error-qZKEZdC0.js";import{B as d}from"./button-CWByyD8p.js";import{I as p}from"./input--oot7lNQ.js";import{L as c}from"./label-DMgu0uJp.js";import{H as k,S as A}from"./layout-DaDbRjUT.js";import{D as S,a as C,b as D,c as P,d as _,e as L,f as E}from"./dialog-BZEodM-J.js";import{A as F}from"./admin-layout-CZX5A4wO.js";import{U as H}from"./user-layout-EhWxeljg.js";import{z as I}from"./transition-DfaDb9xm.js";import"./utils-CIZS8WfU.js";import"./index-kSI_Sp9P.js";import"./index-FWucrRBP.js";import"./heading-RBeXp8GX.js";import"./separator-D7B9DO9S.js";import"./index-BnRzSkX0.js";import"./index--MBTAmm8.js";import"./createLucideIcon-CcE4BCwG.js";import"./Combination-D3-QGBht.js";import"./sonner-BzWYDGD0.js";import"./index-CBHc44OT.js";import"./breadcrumbs-DaS6yS1i.js";import"./tooltip-DZyjiN61.js";import"./index-TF0H3sKn.js";import"./floating-ui.react-dom-eXpC2GmF.js";import"./index-ByiCVpN9.js";import"./index-CqCRHj0s.js";import"./dropdown-menu-D64pho6T.js";import"./index-C4NKnDwf.js";import"./circle-CY85XgjE.js";import"./check-BYg7EXVV.js";import"./user-Cqn_u2Eg.js";import"./chevron-right-Bz6KHcp2.js";import"./app-sidebar-header-DbqUlojV.js";import"./chevrons-up-down-D9_ki5KS.js";import"./user-check-DX9H0HxL.js";import"./users-DzENE5mk.js";import"./monitor-play-C7hgb6v6.js";import"./presentation-DZn-G0VX.js";import"./dollar-sign-VIJL10ZO.js";import"./icon-Bi-y-Cln.js";import"./index-CXKGOxb9.js";import"./search-ByWHwrKY.js";function T(){const o=b.useRef(null),{data:u,setData:a,delete:h,processing:s,reset:t,errors:x,clearErrors:i}=f({password:""}),g=n=>{n.preventDefault(),h(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>l(),onError:()=>{var j;return(j=o.current)==null?void 0:j.focus()},onFinish:()=>t()})},l=()=>{i(),t()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{title:"Hapus akun",description:"Hapus akun Anda dan semua sumber dayanya"}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[e.jsx("p",{className:"font-medium",children:"Peringatan"}),e.jsx("p",{className:"text-sm",children:"Silakan lanjutkan dengan hati-hati, ini tidak dapat dibatalkan."})]}),e.jsxs(S,{children:[e.jsx(C,{asChild:!0,children:e.jsx(d,{variant:"destructive",children:"Hapus akun"})}),e.jsxs(D,{children:[e.jsx(P,{children:"Apakah Anda yakin ingin menghapus akun Anda?"}),e.jsx(_,{children:"Setelah akun Anda dihapus, semua sumber daya dan data yang terkait juga akan dihapus secara permanen. Silakan masukkan kata sandi Anda untuk mengonfirmasi bahwa Anda ingin menghapus akun Anda secara permanen."}),e.jsxs("form",{className:"space-y-6",onSubmit:g,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx(p,{id:"password",type:"password",name:"password",ref:o,value:u.password,onChange:n=>a("password",n.target.value),placeholder:"Password",autoComplete:"current-password"}),e.jsx(m,{message:x.password})]}),e.jsxs(L,{className:"gap-2",children:[e.jsx(E,{asChild:!0,children:e.jsx(d,{variant:"secondary",onClick:l,children:"Batal"})}),e.jsx(d,{variant:"destructive",disabled:s,asChild:!0,children:e.jsx("button",{type:"submit",children:"Hapus akun"})})]})]})]})]})]})]})}const U=[{title:"Profile settings",href:"/settings/profile"}];function Ce({mustVerifyEmail:o,status:u}){const{auth:a}=N().props,h=new URLSearchParams(window.location.search).get("redirect"),{data:s,setData:t,patch:x,errors:i,processing:g,recentlySuccessful:l}=f({name:a.user.name,email:a.user.email,phone_number:a.user.phone_number??"",redirect:h||""}),n=r=>{r.preventDefault(),x(route("profile.update"),{preserveScroll:!0})},v=a.role.includes("admin")?F:H;return e.jsxs(v,{breadcrumbs:U,children:[e.jsx(y,{title:"Pengaturan Profil"}),e.jsxs(A,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{title:"Informasi Profil",description:"Perbarui nama dan alamat email Anda"}),e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsx("input",{type:"hidden",name:"redirect",value:s.redirect}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"name",children:"Nama"}),e.jsx(p,{id:"name",className:"mt-1 block w-full",value:s.name,onChange:r=>t("name",r.target.value),required:!0,autoComplete:"name",placeholder:"Masukkan nama lengkap Anda"}),e.jsx(m,{className:"mt-2",message:i.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",className:"mt-1 block w-full",value:s.email,onChange:r=>t("email",r.target.value),required:!0,autoComplete:"username",placeholder:"Masukkan alamat email Anda"}),e.jsx(m,{className:"mt-2",message:i.email})]}),o&&a.user.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground -mt-4 text-sm",children:["Email anda belum diverifikasi."," ",e.jsx(w,{href:route("verification.send"),method:"post",as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Klik di sini untuk mengirim ulang email verifikasi."})]}),u==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Tautan verifikasi baru telah dikirim ke alamat email Anda."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"phone_number",children:"Nomor Telepon"}),e.jsx(p,{id:"phone_number",type:"text",className:"mt-1 block w-full",value:s.phone_number??"",onChange:r=>t("phone_number",r.target.value),required:!0,autoComplete:"phone_number",placeholder:"Masukkan nomor telepon Anda"}),e.jsx(m,{className:"mt-2",message:i.phone_number})]}),!a.user.phone_number&&e.jsx("div",{children:e.jsx("p",{className:"text-muted-foreground -mt-4 text-sm",children:"Profil Anda belum lengkap. Silakan lengkapi nomor telepon Anda."})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{disabled:g,children:"Simpan"}),e.jsx(I,{show:l,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-neutral-600",children:"Tersimpan"})})]})]})]}),e.jsx(T,{})]})]})}export{Ce as default};
