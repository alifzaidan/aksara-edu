import{r as d,j as e,L as j}from"./app-CcFdSx3p.js";import{B as f}from"./button-CIbvkodZ.js";import{C as g}from"./checkbox-BLI55CJ-.js";import{I as b}from"./input-Bm-IYZcD.js";import{L as y}from"./label-B7TSvCco.js";import{S as N}from"./separator-BY3OxwM8.js";import{T as k,a as v,b as x,c as p}from"./tabs-Bh46gU2q.js";import{U as w}from"./user-layout-CmE8T8gR.js";import{B as i}from"./badge-check-Cx6iR0Ms.js";import"./index-BCV_VuQh.js";import"./utils-DnqkK6dB.js";import"./index-Dr-ftvLf.js";import"./index-CUjcBijk.js";import"./index-p7pDA3hm.js";import"./index-BqMytPCp.js";import"./index-aGOqO_Dt.js";import"./index-MPwWGEHa.js";import"./check-yEV-KXIp.js";import"./createLucideIcon-Cxoi2kG9.js";import"./sonner-CpION8Bq.js";import"./index-6Fi-EoRF.js";import"./breadcrumbs-iTKossir.js";import"./index-Ddz3xCLp.js";import"./Combination-D2dCiedz.js";import"./tooltip-CDLpTR9P.js";import"./index-DXls8flm.js";import"./floating-ui.react-dom-Cx4jsgtI.js";import"./index-BJsO2xFe.js";import"./dropdown-menu-BzEWvRAJ.js";import"./index-CB0H5QzK.js";import"./circle-CZQKF9m3.js";import"./user-Bma3TdMw.js";import"./chevron-right-CXRDSbzO.js";import"./search-CyZiyDpX.js";function S(a){const s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,l=a.match(s);return l&&l[2].length===11?l[2]:""}function ne({course:a}){var c;const s=(c=a.modules)==null?void 0:c.flatMap(t=>t.lessons||[]).find(t=>t.type==="video"&&t.video_url),[l,u]=d.useState(!1),[r,n]=d.useState(!1),h=async t=>{var m;if(t.preventDefault(),!l){alert("Anda harus menyetujui syarat dan ketentuan!");return}n(!0);try{const o=await(await fetch(route("invoice.store"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.content)||""},credentials:"same-origin",body:JSON.stringify({course_id:a.id})})).json();o.url?window.location.href=o.url:alert("Gagal membuat invoice.")}catch{alert("Terjadi kesalahan saat proses pembayaran.")}finally{n(!1)}};return e.jsxs(w,{children:[e.jsx(j,{title:"Checkout Kelas"}),e.jsx("section",{className:"to-primary w-full bg-gradient-to-tl from-black px-4",children:e.jsxs("div",{className:"mx-auto my-12 w-full max-w-7xl px-4",children:[e.jsxs("h2",{className:"mx-auto mb-4 max-w-3xl bg-gradient-to-r from-[#71D0F7] via-white to-[#E6834A] bg-clip-text text-center text-3xl font-bold text-transparent italic sm:text-4xl",children:['Checkout Kelas "',a.title,'"']}),e.jsx("p",{className:"text-center text-gray-400",children:"Silakan selesaikan pembayaran untuk mengakses materi kelas."})]})}),e.jsx("section",{className:"mx-auto my-4 w-full max-w-7xl px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[e.jsxs(k,{defaultValue:"detail",className:"lg:col-span-2",children:[e.jsxs(v,{children:[e.jsx(x,{value:"detail",children:"Detail Kelas"}),e.jsx(x,{value:"preview",children:"Preview Video"})]}),e.jsx(p,{value:"detail",children:e.jsxs("div",{className:"h-full rounded-lg border p-4",children:[e.jsx("h2",{className:"text-3xl font-bold italic",children:"Yang akan kamu dapatkan"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-600",children:"Dengan membeli paket belajar ini, kamu akan mendapatkan semua benefit berikut:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"18",className:"text-green-600"}),e.jsx("p",{children:"Materi & Silabus Terupdate"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"18",className:"text-green-600"}),e.jsx("p",{children:"Sertifikat Resmi dari Aksademy"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"18",className:"text-green-600"}),e.jsx("p",{children:"Kelas Dapat Diakses Secara Lifetime"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"18",className:"text-green-600"}),e.jsx("p",{children:"Video Belajar On-Demand"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"18",className:"text-green-600"}),e.jsx("p",{children:"Modul & Study Case"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"18",className:"text-green-600"}),e.jsx("p",{children:"Latihan Soal/Quiz"})]})]})]})}),e.jsx(p,{value:"preview",children:e.jsxs("div",{className:"h-full rounded-lg border p-4",children:[e.jsx("h2",{className:"text-3xl font-bold italic",children:"Preview Video"}),e.jsxs("p",{className:"mt-2 mb-4 text-sm text-gray-600",children:['Berikut adalah preview video dari kelas "',a.title,'". Silakan tonton untuk mendapatkan gambaran materi yang akan dipelajari.']}),e.jsx("div",{className:"aspect-video w-full",children:e.jsx("iframe",{width:"100%",height:"100%",src:s!=null&&s.video_url&&(s.video_url.includes("youtube.com")||s.video_url.includes("youtu.be"))?`https://www.youtube.com/embed/${S(s.video_url)}`:"",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"h-full w-full rounded-xl"})})]})})]}),e.jsxs("form",{onSubmit:h,children:[e.jsx("h2",{className:"my-2 text-xl font-bold italic",children:"Detail Pembayaran"}),e.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[e.jsx(b,{type:"text",placeholder:"Masukkan Kode Promo (Opsional)",className:"w-full"}),e.jsxs("div",{className:"space-y-2 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Harga Normal"}),e.jsx("span",{className:"font-semibold text-gray-500",children:"Rp 999.000"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Harga Kelas"}),e.jsxs("span",{className:"font-semibold text-gray-500",children:["Rp ",a.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pajak"}),e.jsx("span",{className:"font-semibold text-gray-500",children:"Rp 11.000"})]}),e.jsx(N,{className:"my-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Harga Total"}),e.jsxs("span",{className:"text-xl font-bold",children:["Rp ",a.price.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{id:"terms",checked:l,onCheckedChange:t=>u(t===!0)}),e.jsx(y,{htmlFor:"terms",children:"Accept terms and conditions"})]}),e.jsx(f,{className:"w-full",type:"submit",disabled:!l||r,children:r?"Memproses...":"Bayar Sekarang"})]})]})]})})]})}export{ne as default};
