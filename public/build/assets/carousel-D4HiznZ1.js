import{r as o,j as c}from"./app-DKWWGPkh.js";import{c as v}from"./utils-Bvi-Pw0s.js";import{u as N}from"./use-motion-value-Fvltqido.js";import{m as g}from"./proxy-GAa8zX2t.js";const p=o.createContext(void 0);function h(){const e=o.useContext(p);if(!e)throw new Error("useCarousel must be used within an CarouselProvider");return e}function I({children:e,initialIndex:r=0,onIndexChange:i,disableDrag:s=!1}){const[n,a]=o.useState(r),[t,m]=o.useState(0),d=u=>{a(u),i==null||i(u)};return o.useEffect(()=>{a(r)},[r]),c.jsx(p.Provider,{value:{index:n,setIndex:d,itemsCount:t,setItemsCount:m,disableDrag:s},children:e})}function R({children:e,className:r,initialIndex:i=0,index:s,onIndexChange:n,disableDrag:a=!1}){const[t,m]=o.useState(i),d=s!==void 0,u=d?s:t,f=l=>{d||m(l),n==null||n(l)};return c.jsx(I,{initialIndex:u,onIndexChange:f,disableDrag:a,children:c.jsx("div",{className:v("group/hover relative",r),children:c.jsx("div",{className:"overflow-hidden",children:e})})})}function A({className:e,classNameButton:r}){const{index:i,itemsCount:s,setIndex:n}=h();return c.jsx("div",{className:v("absolute bottom-4 z-10 flex w-full items-center justify-start ps-4",e),children:c.jsx("div",{className:"flex space-x-2",children:Array.from({length:s},(a,t)=>c.jsx("button",{type:"button","aria-label":`Go to slide ${t+1}`,onClick:()=>n(t),className:v("h-2 w-2 rounded-full transition-opacity duration-300 hover:cursor-pointer",i===t?"bg-secondary dark:bg-secondary":"bg-secondary/50 dark:bg-secondary/50",r)},t))})})}function M({children:e,className:r,transition:i}){const{index:s,setIndex:n,setItemsCount:a,disableDrag:t}=h(),[m,d]=o.useState(1),u=N(0),f=o.useRef(null),l=o.Children.count(e);o.useEffect(()=>{if(!f.current)return;const x={root:f.current,threshold:.5},C=new IntersectionObserver(b=>{const w=b.filter(E=>E.isIntersecting).length;d(w)},x),y=f.current.children;return Array.from(y).forEach(b=>C.observe(b)),()=>C.disconnect()},[e,a]),o.useEffect(()=>{l&&a(l)},[l,a]);const j=()=>{const x=u.get();x<=-10&&s<l-1?n(s+1):x>=10&&s>0&&n(s-1)};return c.jsx(g.div,{drag:t?!1:"x",dragConstraints:t?void 0:{left:0,right:0},dragMomentum:t?void 0:!1,style:{x:t?void 0:u},animate:{translateX:`-${s*(100/m)}%`},onDragEnd:t?void 0:j,transition:i||{damping:18,stiffness:90,type:"spring",duration:.2},className:v("flex items-center",!t&&"cursor-grab active:cursor-grabbing",r),ref:f,children:e})}function V({children:e,className:r}){return c.jsx(g.div,{className:v("w-full min-w-0 shrink-0 grow-0 overflow-hidden",r),children:e})}export{R as C,M as a,V as b,A as c};
