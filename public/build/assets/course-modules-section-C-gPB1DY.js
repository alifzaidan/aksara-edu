import{r as p,j as s}from"./app-D0ZsZ5WE.js";import{B as A}from"./badge-DwIxz89Q.js";import{B as m}from"./button-qRSS2IvA.js";import{D as N,a as O}from"./dialog-DVCiTR9O.js";import{S as _}from"./separator-DpzQkcc1.js";import{T as l,a as o,b as c}from"./tooltip-0usr9Eys.js";import w from"./create-lesson-C4sty7ax.js";import P from"./create-module-x_At9_en.js";import L from"./edit-lesson-DtvX549s.js";import q from"./edit-module-C2aXFRES.js";import{c as k}from"./createLucideIcon-BcEbjWrw.js";import{P as D}from"./plus-BWL41qxe.js";import{S as C}from"./square-pen-D7CXks-T.js";import{T as g}from"./trash-BG_V6a7L.js";import{B as R}from"./badge-check-B-6TkuTw.js";import{L as G}from"./lock-nEj2OAUz.js";import"./index-DLHxsJ7m.js";import"./utils-CHMIVQs4.js";import"./index-CrGMTmZv.js";import"./index-tCw0NSDj.js";import"./Combination-D62Q32X0.js";import"./index-B4kwUCpG.js";import"./index-Cdqrvh9M.js";import"./index-LiQMHK0p.js";import"./index-SekMOrVl.js";import"./floating-ui.react-dom-DcelH5tZ.js";import"./index-BdVV2G4g.js";import"./index-CIGUiBNl.js";import"./input-error-hC4jElq1.js";import"./input-BfluddkR.js";import"./label-D0840CeH.js";import"./select-Qf7ZWRMK.js";import"./index-CL_0lam7.js";import"./index-PK5aETFr.js";import"./chevron-down-BlvAEZC0.js";import"./check-HV93nhAN.js";import"./chevron-up-CicxuQMv.js";import"./switch-B-ODPFRD.js";import"./textarea--12h0QPf.js";import"./Editor-h37tL_RJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m20 13.7-2.1-2.1a2 2 0 0 0-2.8 0L9.7 17",key:"q6ojf0"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"10",cy:"8",r:"2",key:"2qkj4p"}]],U=k("BookImage",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],F=k("CirclePlus",$);function As({modules:a,setModules:d}){const[M,v]=p.useState(!1),[E,x]=p.useState(!1),[j,y]=p.useState(null),[z,u]=p.useState(null),[n,f]=p.useState(null),T=i=>{d([...a,i]),v(!1)},b=i=>{if(j!==null){const r=[...a];r[j]={...r[j],...i},d(r)}x(!1),y(null)},I=i=>{d(a.filter((r,e)=>e!==i))},B=(i,r)=>{const e=[...a];e[i].lessons||(e[i].lessons=[]),e[i].lessons.push(r),d(e),u(null)},S=(i,r,e)=>{const t=[...a];t[i].lessons&&(t[i].lessons[r]=e,d(t)),f(null)},H=(i,r)=>{const e=[...a];e[i].lessons&&(e[i].lessons.splice(r,1),d(e))};return s.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{size:16}),s.jsx("h3",{className:"font-medium",children:"Materi Kelas"})]}),s.jsxs(N,{open:M,onOpenChange:v,children:[s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsx(O,{asChild:!0,children:s.jsxs(m,{variant:"outline",className:"size-8 hover:cursor-pointer",children:[s.jsx(D,{}),s.jsx("span",{className:"sr-only",children:"Tambah Modul"})]})})}),s.jsx(c,{children:s.jsx("p",{children:"Tambah Modul"})})]}),s.jsx(P,{setOpen:v,onAdd:T})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("ul",{className:"space-y-2",children:a&&a.length>0?a.map((i,r)=>s.jsxs("li",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:i.title}),s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs(N,{open:E&&j===r,onOpenChange:e=>{x(e),e||y(null)},children:[s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsxs(m,{variant:"link",size:"icon",className:"size-8 hover:cursor-pointer",onClick:()=>{y(r),x(!0)},children:[s.jsx(C,{}),s.jsx("span",{className:"sr-only",children:"Edit Modul"})]})}),s.jsx(c,{children:s.jsx("p",{children:"Edit Modul"})})]}),s.jsx(q,{setOpen:x,onEdit:b,module:i})]}),s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsxs(m,{variant:"link",size:"icon",className:"size-8 text-red-500 hover:cursor-pointer",onClick:()=>I(r),children:[s.jsx(g,{}),s.jsx("span",{className:"sr-only",children:"Hapus Modul"})]})}),s.jsx(c,{children:s.jsx("p",{children:"Hapus Modul"})})]})]})]}),i.description&&s.jsx("div",{className:"text-muted-foreground text-xs",children:i.description}),i.lessons&&i.lessons.length>0&&s.jsx("div",{className:"mt-2 space-y-2",children:i.lessons.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[e.is_free?s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsx(R,{size:"14",className:"hover:text-green-500"})}),s.jsx(c,{children:s.jsx("p",{children:"Materi Gratis"})})]}):s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsx(G,{size:"14",className:"hover:text-red-500"})}),s.jsx(c,{children:s.jsx("p",{children:"Materi Berbayar"})})]}),s.jsx("h4",{className:"text-sm",children:e.title})]}),s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(A,{className:"mr-2",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),s.jsxs(N,{open:(n==null?void 0:n.modIdx)===r&&(n==null?void 0:n.lessonIdx)===t,onOpenChange:h=>{h||f(null)},children:[s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsxs(m,{variant:"link",size:"icon",className:"size-8 hover:cursor-pointer",onClick:()=>f({modIdx:r,lessonIdx:t}),children:[s.jsx(C,{}),s.jsx("span",{className:"sr-only",children:"Edit Materi"})]})}),s.jsx(c,{children:s.jsx("p",{children:"Edit Materi"})})]}),(n==null?void 0:n.modIdx)===r&&(n==null?void 0:n.lessonIdx)===t&&s.jsx(L,{setOpen:h=>{h||f(null)},onEdit:h=>S(r,t,h),lesson:e})]}),s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsxs(m,{variant:"link",size:"icon",className:"size-8 text-red-500 hover:cursor-pointer",onClick:()=>H(r,t),children:[s.jsx(g,{}),s.jsx("span",{className:"sr-only",children:"Hapus Materi"})]})}),s.jsx(c,{children:s.jsx("p",{children:"Hapus Materi"})})]})]})]},t))}),s.jsxs(N,{open:z===r,onOpenChange:e=>u(e?r:null),children:[s.jsxs(l,{children:[s.jsx(o,{asChild:!0,children:s.jsxs(m,{size:"sm",variant:"outline",className:"mt-2 text-xs hover:cursor-pointer",onClick:()=>u(r),children:["Tambah Materi ",s.jsx(F,{})]})}),s.jsx(c,{children:s.jsx("p",{children:"Tambah Materi"})})]}),s.jsx(w,{setOpen:e=>u(e?r:null),onAdd:e=>B(r,e)})]}),s.jsx(_,{className:"my-4"})]},r)):s.jsx("li",{className:"text-muted-foreground text-sm",children:"Belum ada modul. Tambahkan modul baru."})})})]})}export{As as default};
