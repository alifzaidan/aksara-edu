import{r as p,j as r}from"./app-Dq6gQsdJ.js";import{B as x}from"./button-DQNQt15p.js";import{T as h}from"./transition-panel-C1o1dDcC.js";import{C as m}from"./circle-play-Cn6meAti.js";import"./index-Dib582-y.js";import"./utils-DDsyvClK.js";import"./index-B57raIJC.js";import"./proxy-DOwJrncs.js";import"./createLucideIcon-_HNCqxDG.js";function f(a){const o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,l=a.match(o);return l&&l[2].length===11?l[2]:""}function U({course:a}){var c,d;const[o,l]=p.useState(0),i=((c=a.modules)==null?void 0:c.flatMap(e=>{var t;return(((t=e.lessons)==null?void 0:t.filter(s=>s.type==="video").slice(0,2))||[]).map(s=>({title:s.title,videoUrl:s.video_url}))}))||[],n=((d=a.modules)==null?void 0:d.reduce((e,t)=>{var s;return e+(((s=t.lessons)==null?void 0:s.length)||0)},0))||0;return r.jsx("section",{className:"mx-auto w-full max-w-7xl px-4",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[r.jsx(h,{activeIndex:o,transition:{duration:.2,ease:"easeInOut"},variants:{enter:{opacity:0,y:-50,filter:"blur(4px)"},center:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:50,filter:"blur(4px)"}},className:"col-span-2 aspect-video h-full w-full overflow-hidden rounded-xl bg-white shadow",children:i.map((e,t)=>{var s,u;return r.jsx("div",{className:"aspect-video w-full",children:r.jsx("iframe",{width:"100%",height:"100%",src:(s=e==null?void 0:e.videoUrl)!=null&&s.includes("youtube.com")||(u=e==null?void 0:e.videoUrl)!=null&&u.includes("youtu.be")?`https://www.youtube.com/embed/${f(e.videoUrl)}`:"",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"h-full w-full rounded-xl"})},t)})}),r.jsxs("div",{className:"col-span-1 flex h-full flex-col rounded-xl bg-white p-6 shadow dark:bg-zinc-800",children:[r.jsxs("h2",{className:"mb-4 font-semibold",children:[n," Materi"]}),i.map((e,t)=>r.jsx("button",{onClick:()=>l(t),className:`hover:bg-primary/10 mb-2 flex justify-between rounded-lg border bg-gray-100 p-4 text-gray-800 transition hover:cursor-pointer ${o===t?"border-primary":""} `,children:r.jsxs("h5",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(m,{size:"18"})," ",(e==null?void 0:e.title)??""]})},t)),r.jsx("a",{href:"#modules",className:"hover:bg-primary/10 mb-2 flex justify-between rounded-lg border bg-gray-100 p-4 text-gray-800 transition hover:cursor-pointer",children:r.jsxs("h5",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(m,{size:"18"})," ",n-i.length," Materi Lainnya"]})}),r.jsx("a",{href:"#register",className:"mt-auto w-full",children:r.jsx(x,{className:"w-full",children:"Gabung Sekarang"})})]})]})})}export{U as default};
