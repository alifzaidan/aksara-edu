import{r as d,j as a,L as p,$ as i}from"./app-ehuvTaMD.js";import{H as m}from"./heading-DQjZGTfR.js";import{B as c}from"./button-CnWCZhaS.js";import{I as u}from"./input-CuISp_4v.js";import{P as h}from"./layout-kwHCFPHm.js";import{U as _}from"./user-layout-B-uEl6-8.js";import"./index-RAtLVda3.js";import"./utils-9G-TgTw2.js";import"./breadcrumbs-C5opYLAT.js";import"./index-D4fESLtC.js";import"./createLucideIcon-Dwz8hL6d.js";import"./index-CpxHlOzM.js";import"./Combination-CM1ERkG0.js";import"./tooltip-ChlZffu4.js";import"./index-DHDduoin.js";import"./index-BkyRFM7S.js";import"./floating-ui.react-dom-CMsEK_Tl.js";import"./index-DyLQgsT1.js";import"./index-Bny227ZW.js";import"./dropdown-menu--aYbk_9c.js";import"./index-Dh3ObG17.js";import"./circle-_xmX6mmF.js";import"./check-Vx_kM3Sv.js";import"./user-CvN31xww.js";import"./chevron-right-CgmHLjvL.js";import"./monitor-play-D_TECI6F.js";import"./presentation-DqaIbKSH.js";import"./banknote-BEaiXgyW.js";import"./sonner-Balhh_Kz.js";import"./index-DcEiB8JP.js";import"./icon-CkmJFeD3.js";import"./index-BKDR33wU.js";import"./search-C8ZFY701.js";function V({myTransactions:n}){const[r,l]=d.useState(""),s=n.flatMap(e=>[...(e.course_items||[]).map(t=>({type:"Course",title:t.course.title,slug:t.course.slug,price:t.price,invoice_id:e.id,invoice_status:e.status,invoice_code:e.invoice_code,invoice_url:e.invoice_url,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at})),...(e.bootcamp_items||[]).map(t=>({type:"Bootcamp",title:t.bootcamp.title,slug:t.bootcamp.slug,price:t.price,invoice_id:e.id,invoice_status:e.status,invoice_code:e.invoice_code,invoice_url:e.invoice_url,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at})),...(e.webinar_items||[]).map(t=>({type:"Webinar",title:t.webinar.title,slug:t.webinar.slug,price:t.price,invoice_id:e.id,invoice_status:e.status,invoice_code:e.invoice_code,invoice_url:e.invoice_url,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at}))]).filter(e=>e.title.toLowerCase().includes(r.toLowerCase())),o=e=>e==="paid"||e==="completed"?a.jsx("span",{className:"font-medium text-green-600",children:"Sudah Dibayar"}):e==="pending"?a.jsx("span",{className:"font-medium text-yellow-600",children:"Menunggu Pembayaran"}):a.jsx("span",{className:"font-medium text-red-600",children:"Gagal/Kedaluwarsa"});return a.jsxs(_,{children:[a.jsx(p,{title:"Transaksi Saya"}),a.jsxs(h,{children:[a.jsx(m,{title:"Transaksi Saya",description:"Lihat riwayat transaksi Anda di sini"}),a.jsx("div",{className:"mb-4 flex justify-between gap-2",children:a.jsx(u,{type:"search",placeholder:"Cari judul transaksi...",value:r,onChange:e=>l(e.target.value)})}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-zinc-800",children:a.jsxs("tr",{className:"text-left",children:[a.jsx("th",{className:"p-2 font-medium",children:"Judul"}),a.jsx("th",{className:"p-2 font-medium",children:"Tipe"}),a.jsx("th",{className:"p-2 font-medium",children:"Status"}),a.jsx("th",{className:"p-2 font-medium",children:"Metode Pembayaran"}),a.jsx("th",{className:"p-2 font-medium",children:"Kode Invoice"}),a.jsx("th",{className:"p-2 font-medium",children:"Dibayar Pada"})]})}),a.jsx("tbody",{children:s.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"Belum ada transaksi."})}):s.map((e,t)=>a.jsxs("tr",{className:"border-t dark:border-zinc-800",children:[a.jsx("td",{className:"p-2",children:a.jsx(i,{href:`/profile/my-${e.type.toLowerCase()}s/${e.slug}`,className:"text-primary hover:underline",children:e.title})}),a.jsx("td",{className:"p-2",children:e.type==="Course"?"Kelas Online":e.type}),a.jsx("td",{className:"p-2",children:o(e.invoice_status)}),a.jsx("td",{className:"p-2",children:e.price===0?a.jsx("span",{className:"font-semibold text-green-600",children:"GRATIS"}):e.payment_channel||e.payment_method||"-"}),a.jsx("td",{className:"p-2",children:a.jsx(i,{href:route("invoice.show",{id:e.invoice_id}),className:"text-primary hover:underline",children:e.invoice_code})}),a.jsx("td",{className:"p-2",children:e.invoice_status==="pending"&&e.invoice_url?a.jsx(c,{asChild:!0,size:"sm",variant:"outline",children:a.jsx("a",{href:e.invoice_url,target:"_blank",children:"Lanjutkan Pembayaran"})}):e.paid_at?new Date(e.paid_at).toLocaleString("id-ID"):"-"})]},t))})]})})]})]})}export{V as default};
