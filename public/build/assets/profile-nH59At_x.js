import{r as v,m as f,j as e,K as b,L as y,$ as N}from"./app-DiJOpchw.js";import{I as x}from"./input-error-CNifSuy1.js";import{B as c}from"./button-5OFXcais.js";import{I as g}from"./input-BjYmRNk6.js";import{L as j}from"./label-NIjZyLYO.js";import{H as k,S as w}from"./layout-DzRw92k-.js";import{D as A,a as D,b as S,c as C,d as P,e as E,f as L}from"./dialog-ALjZHyKH.js";import{A as F}from"./admin-layout-BrlcPaRO.js";import{U as H}from"./user-layout-BrzCohqa.js";import{z as I}from"./transition-BitmfCgF.js";import"./utils-C8MUq-y1.js";import"./index-CIK7fpQ2.js";import"./index-BPu_V-K-.js";import"./heading-K6fa-r34.js";import"./separator-BkYnw_mh.js";import"./index-Bc783D3z.js";import"./index-3doH0Yt9.js";import"./createLucideIcon-DKDFERHj.js";import"./Combination-Baw02jyl.js";import"./sonner-BoU-t8II.js";import"./index-CNE6fjJR.js";import"./breadcrumbs-CJvtZdJf.js";import"./tooltip-DsYhlSPs.js";import"./index-izb7qtpW.js";import"./index-D5mdLAAu.js";import"./index-rWur4EJ2.js";import"./floating-ui.react-dom-yHXoPCar.js";import"./index-Bn3MLi6D.js";import"./index-CgIaq9Ii.js";import"./dropdown-menu-CuYDeOZn.js";import"./index-BSloASfz.js";import"./circle-CD8vtyIM.js";import"./check-ssoc2dou.js";import"./user-MuUbZGtR.js";import"./chevron-right-Ctoky5F0.js";import"./chevrons-up-down-5CK6_B3y.js";import"./user-check-CxolwCju.js";import"./users-iiJ1BNRq.js";import"./monitor-play-Cryr9eIl.js";import"./presentation-Dtu3K1iv.js";import"./dollar-sign-BLUpnHwP.js";import"./index-DhzV2jKz.js";import"./search-D9IQ70wZ.js";function T(){const r=v.useRef(null),{data:p,setData:a,delete:i,processing:t,reset:n,errors:o,clearErrors:u}=f({password:""}),h=m=>{m.preventDefault(),i(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>l(),onError:()=>{var d;return(d=r.current)==null?void 0:d.focus()},onFinish:()=>n()})},l=()=>{u(),n()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{title:"Hapus akun",description:"Hapus akun Anda dan semua sumber dayanya"}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[e.jsx("p",{className:"font-medium",children:"Peringatan"}),e.jsx("p",{className:"text-sm",children:"Silakan lanjutkan dengan hati-hati, ini tidak dapat dibatalkan."})]}),e.jsxs(A,{children:[e.jsx(D,{asChild:!0,children:e.jsx(c,{variant:"destructive",children:"Hapus akun"})}),e.jsxs(S,{children:[e.jsx(C,{children:"Apakah Anda yakin ingin menghapus akun Anda?"}),e.jsx(P,{children:"Setelah akun Anda dihapus, semua sumber daya dan data yang terkait juga akan dihapus secara permanen. Silakan masukkan kata sandi Anda untuk mengonfirmasi bahwa Anda ingin menghapus akun Anda secara permanen."}),e.jsxs("form",{className:"space-y-6",onSubmit:h,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx(g,{id:"password",type:"password",name:"password",ref:r,value:p.password,onChange:m=>a("password",m.target.value),placeholder:"Password",autoComplete:"current-password"}),e.jsx(x,{message:o.password})]}),e.jsxs(E,{className:"gap-2",children:[e.jsx(L,{asChild:!0,children:e.jsx(c,{variant:"secondary",onClick:l,children:"Batal"})}),e.jsx(c,{variant:"destructive",disabled:t,asChild:!0,children:e.jsx("button",{type:"submit",children:"Hapus akun"})})]})]})]})]})]})]})}const U=[{title:"Profile settings",href:"/settings/profile"}];function De({mustVerifyEmail:r,status:p}){const{auth:a}=b().props,{data:i,setData:t,patch:n,errors:o,processing:u,recentlySuccessful:h}=f({name:a.user.name,email:a.user.email}),l=s=>{s.preventDefault(),n(route("profile.update"),{preserveScroll:!0})},d=a.role.includes("admin")?F:H;return e.jsxs(d,{breadcrumbs:U,children:[e.jsx(y,{title:"Pengaturan Profil"}),e.jsxs(w,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{title:"Informasi Profil",description:"Perbarui nama dan alamat email Anda"}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"name",children:"Nama"}),e.jsx(g,{id:"name",className:"mt-1 block w-full",value:i.name,onChange:s=>t("name",s.target.value),required:!0,autoComplete:"name",placeholder:"Nama lengkap"}),e.jsx(x,{className:"mt-2",message:o.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"email",children:"Email"}),e.jsx(g,{id:"email",type:"email",className:"mt-1 block w-full",value:i.email,onChange:s=>t("email",s.target.value),required:!0,autoComplete:"username",placeholder:"Email"}),e.jsx(x,{className:"mt-2",message:o.email})]}),r&&a.user.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground -mt-4 text-sm",children:["Email anda belum diverifikasi."," ",e.jsx(N,{href:route("verification.send"),method:"post",as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Klik di sini untuk mengirim ulang email verifikasi."})]}),p==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Tautan verifikasi baru telah dikirim ke alamat email Anda."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{disabled:u,children:"Simpan"}),e.jsx(I,{show:h,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-neutral-600",children:"Tersimpan"})})]})]})]}),e.jsx(T,{})]})]})}export{De as default};
