import{r as i,m as y,j as e}from"./app-C8WJGVms.js";import{I as l}from"./input-error-BZOMu0Ol.js";import{B as p}from"./index-CzEWuSiA.js";import{b as N,c as v,d as T,e as D,f as I}from"./dialog-D7R_xJ1X.js";import{I as c}from"./input-DpLH5aAJ.js";import{L as n}from"./label-C1-nNjaQ.js";import{T as k}from"./textarea-DR2_h0nb.js";import"./index-nMAXSRiA.js";import"./Combination-BKEMi8Ry.js";function P({setOpen:m}){const u=i.useRef(null),d=i.useRef(null),g=i.useRef(null),{data:t,setData:s,submit:x,processing:h,reset:f,errors:r,clearErrors:j}=y({name:"",slug:"",description:null,icon:null}),b=a=>a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),C=a=>{a.preventDefault(),x("post",route("tools.store"),{preserveScroll:!0,onSuccess:()=>{m(!1),f(),j()},onError:()=>{var o;return(o=u.current)==null?void 0:o.focus()}})};return e.jsxs(N,{children:[e.jsx(v,{children:"Tambah Tool Baru"}),e.jsx(T,{children:"Silakan masukkan nama tool baru yang ingin Anda tambahkan."}),e.jsxs("form",{className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"name",className:"sr-only",children:"Nama Tool"}),e.jsx(c,{id:"name",type:"text",name:"name",ref:u,value:t.name,onChange:a=>{s("name",a.target.value),s("slug",b(a.target.value))},placeholder:"Nama Tool",autoComplete:"off"}),e.jsx(l,{message:r.name}),e.jsx(n,{htmlFor:"slug",className:"sr-only",children:"Slug"}),e.jsx(c,{id:"slug",type:"text",name:"slug",value:t.slug,onChange:a=>s("slug",a.target.value),placeholder:"Slug",autoComplete:"off",disabled:!0}),e.jsx(l,{message:r.slug}),e.jsx(n,{htmlFor:"description",className:"sr-only",children:"Deskripsi"}),e.jsx(k,{id:"description",name:"description",ref:d,value:t.description??"",onChange:a=>s("description",a.target.value),placeholder:"Deskripsi (opsional)",className:"resize-none"}),e.jsx(l,{message:r.description}),e.jsx(n,{htmlFor:"icon",className:"sr-only",children:"Unggah Icon"}),e.jsx(c,{id:"icon",type:"file",name:"icon",ref:g,onChange:a=>{var o;return s("icon",((o=a.target.files)==null?void 0:o[0])??null)},placeholder:"Icon (opsional)"}),e.jsx(l,{message:r.icon}),e.jsx("p",{className:"text-muted-foreground ms-1 text-xs",children:"Upload Icon. Format: PNG atau JPG Max 2 Mb"})]}),e.jsxs(D,{className:"gap-2",children:[e.jsx(I,{asChild:!0,children:e.jsx(p,{variant:"secondary",onClick:()=>m(!1),children:"Batal"})}),e.jsx(p,{disabled:h,asChild:!0,children:e.jsx("button",{type:"submit",children:"Tambah Tool"})})]})]})]})}export{P as default};
