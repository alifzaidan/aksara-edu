import{r as t,m as D,j as e}from"./app-C8WJGVms.js";import{I as i}from"./input-error-BZOMu0Ol.js";import{B as g}from"./index-CzEWuSiA.js";import{b as N,c as b,d as I,e as E,f as T}from"./dialog-D7R_xJ1X.js";import{I as m}from"./input-DpLH5aAJ.js";import{L as c}from"./label-C1-nNjaQ.js";import{T as F}from"./textarea-DR2_h0nb.js";import"./index-nMAXSRiA.js";import"./Combination-BKEMi8Ry.js";function U({tool:a,setOpen:p}){const d=t.useRef(null),f=t.useRef(null),h=t.useRef(null),{data:n,setData:r,post:x,processing:j,reset:C,errors:l,clearErrors:u}=D({name:a.name,slug:a.slug,description:a.description,icon:null});t.useEffect(()=>{r({name:a.name,slug:a.slug,description:a.description,icon:null}),u()},[a,r,u]);const v=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),y=s=>{s.preventDefault(),x(route("tools.update",a.id),{method:"put",...n,preserveScroll:!0,forceFormData:!0,onSuccess:()=>{p(!1),C(),u()},onError:()=>{var o;return(o=d.current)==null?void 0:o.focus()}})};return e.jsxs(N,{children:[e.jsx(b,{children:"Edit Tool"}),e.jsx(I,{children:"Ubah nama atau slug tool."}),e.jsxs("form",{className:"space-y-6",onSubmit:y,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"name",className:"sr-only",children:"Nama Tool"}),e.jsx(m,{id:"name",type:"text",name:"name",ref:d,value:n.name,onChange:s=>{r("name",s.target.value),r("slug",v(s.target.value))},placeholder:"Nama Kategori",autoComplete:"off"}),e.jsx(i,{message:l.name}),e.jsx(c,{htmlFor:"slug",className:"sr-only",children:"Slug"}),e.jsx(m,{id:"slug",type:"text",name:"slug",value:n.slug,onChange:s=>r("slug",s.target.value),placeholder:"Slug",autoComplete:"off",disabled:!0}),e.jsx(i,{message:l.slug}),e.jsx(c,{htmlFor:"description",className:"sr-only",children:"Deskripsi"}),e.jsx(F,{id:"description",name:"description",ref:f,value:n.description??"",onChange:s=>r("description",s.target.value),placeholder:"Deskripsi (opsional)",className:"resize-none"}),e.jsx(i,{message:l.description}),e.jsx(c,{htmlFor:"icon",className:"sr-only",children:"Icon"}),e.jsx(m,{id:"icon",type:"file",name:"icon",ref:h,onChange:s=>{var o;return r("icon",((o=s.target.files)==null?void 0:o[0])??null)},placeholder:"Icon (opsional)"}),e.jsx(i,{message:l.icon})]}),e.jsxs(E,{className:"gap-2",children:[e.jsx(T,{asChild:!0,children:e.jsx(g,{variant:"secondary",onClick:()=>p(!1),children:"Batal"})}),e.jsx(g,{disabled:j,asChild:!0,children:e.jsx("button",{type:"submit",children:"Simpan Perubahan"})})]})]})]})}export{U as default};
