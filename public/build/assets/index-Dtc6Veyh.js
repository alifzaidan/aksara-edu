import{r as f,j as e,L as S}from"./app-ehuvTaMD.js";import{B as d}from"./button-CnWCZhaS.js";import{C as v}from"./checkbox-B8XK7e9W.js";import{I as T}from"./input-CuISp_4v.js";import{L}from"./label-jDXTnFJn.js";import{S as C}from"./separator-DzBmwpmt.js";import{T as B,a as A,b as j,c as g}from"./tabs-D-xvBxca.js";import{U as D}from"./user-layout-B-uEl6-8.js";import{B as x}from"./badge-check-B74tp254.js";import{H as P}from"./hourglass-DS6uYbzX.js";import"./index-RAtLVda3.js";import"./utils-9G-TgTw2.js";import"./index-BkyRFM7S.js";import"./index-CpxHlOzM.js";import"./index-DHDduoin.js";import"./floating-ui.react-dom-CMsEK_Tl.js";import"./index-BKDR33wU.js";import"./index-DyLQgsT1.js";import"./check-Vx_kM3Sv.js";import"./createLucideIcon-Dwz8hL6d.js";import"./sonner-Balhh_Kz.js";import"./index-DcEiB8JP.js";import"./breadcrumbs-C5opYLAT.js";import"./index-D4fESLtC.js";import"./Combination-CM1ERkG0.js";import"./tooltip-ChlZffu4.js";import"./index-Bny227ZW.js";import"./dropdown-menu--aYbk_9c.js";import"./index-Dh3ObG17.js";import"./circle-_xmX6mmF.js";import"./user-CvN31xww.js";import"./chevron-right-CgmHLjvL.js";import"./icon-CkmJFeD3.js";import"./search-C8ZFY701.js";function p(a){if(!a)return[];const i=a.match(/<li>(.*?)<\/li>/g);return i?i.map(n=>n.replace(/<\/?li>/g,"").trim()):[]}function pe({bootcamp:a,hasAccess:i,pendingInvoiceUrl:n}){const[c,y]=f.useState(!1),[u,m]=f.useState(!1),N=p(a.requirements),b=p(a.benefits),k=p(a.curriculum),r=a.price===0,w=async s=>{var t,h;if(s.preventDefault(),!c&&!r){alert("Anda harus menyetujui syarat dan ketentuan!");return}if(m(!0),r){try{const o=await fetch(route("enroll.free"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.content)||""},body:JSON.stringify({type:"bootcamp",id:a.id})}),l=await o.json();o.ok&&l.redirect_url?window.location.href=l.redirect_url:alert(l.message||"Gagal mendaftar kelas gratis.")}catch{alert("Terjadi kesalahan saat proses pendaftaran.")}finally{m(!1)}return}try{const l=await(await fetch(route("invoice.store"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((h=document.querySelector('meta[name="csrf-token"]'))==null?void 0:h.content)||""},credentials:"same-origin",body:JSON.stringify({type:"bootcamp",id:a.id})})).json();l.url?window.location.href=l.url:alert("Gagal membuat invoice.")}catch{alert("Terjadi kesalahan saat proses pembayaran.")}finally{m(!1)}};return e.jsxs(D,{children:[e.jsx(S,{title:"Daftar Bootcamp"}),e.jsx("section",{className:"to-primary w-full bg-gradient-to-tl from-black px-4",children:e.jsxs("div",{className:"mx-auto my-12 w-full max-w-7xl px-4",children:[e.jsxs("h2",{className:"mx-auto mb-4 max-w-3xl bg-gradient-to-r from-[#71D0F7] via-white to-[#E6834A] bg-clip-text text-center text-3xl font-bold text-transparent italic sm:text-4xl",children:['Daftar Bootcamp "',a.title,'"']}),e.jsx("p",{className:"text-center text-gray-400",children:"Silakan selesaikan pembayaran untuk mendaftar bootcamp."})]})}),e.jsx("section",{className:"mx-auto my-4 w-full max-w-7xl px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[e.jsxs(B,{defaultValue:"detail",className:"lg:col-span-2",children:[e.jsxs(A,{children:[e.jsx(j,{value:"detail",children:"Detail Bootcamp"}),e.jsx(j,{value:"curriculum",children:"Kurikulum Bootcamp"})]}),e.jsx(g,{value:"detail",children:e.jsxs("div",{className:"h-full rounded-lg border p-4",children:[e.jsx("h2",{className:"text-3xl font-bold italic",children:"Yang akan kamu dapatkan"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-600",children:"Manfaat yang akan kamu peroleh setelah mengikuti bootcamp ini."}),e.jsx("ul",{className:"space-y-2",children:b.map((s,t)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(x,{size:"18",className:"text-green-600"}),e.jsx("p",{className:"text-sm md:text-base",children:s})]},t))}),e.jsx("h2",{className:"mt-6 text-3xl font-bold italic",children:"Persyaratan Peserta"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-600",children:"Pastikan kamu memenuhi persyaratan berikut sebelum mendaftar bootcamp ini."}),e.jsx("ul",{className:"space-y-2",children:N.map((s,t)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(x,{size:"18",className:"text-green-600"}),e.jsx("p",{className:"text-sm md:text-base",children:s})]},t))})]})}),e.jsx(g,{value:"curriculum",children:e.jsxs("div",{className:"h-full rounded-lg border p-4",children:[e.jsx("h2",{className:"text-3xl font-bold italic",children:"Kurikulum"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-600",children:"Berikut adalah daftar materi yang akan dipelajari selama bootcamp ini."}),e.jsx("ul",{className:"space-y-2",children:k.map((s,t)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-semibold",children:[t+1,"."]}),e.jsx("p",{className:"text-sm md:text-base",children:s})]},t))})]})})]}),i?e.jsxs("div",{className:"flex h-full flex-col items-center justify-center space-y-4 rounded-lg border p-6 text-center",children:[e.jsx(x,{size:64,className:"text-green-500"}),e.jsx("h2",{className:"text-xl font-bold",children:"Anda Sudah Memiliki Akses"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Anda sudah terdaftar di bootcamp ini. Silakan masuk ke dalam grup."}),e.jsx(d,{asChild:!0,className:"w-full",children:e.jsx("a",{href:a.group_url??"",target:"_blank",rel:"noopener noreferrer",children:"Masuk Group Bootcamp"})})]}):n?e.jsxs("div",{className:"flex h-full flex-col items-center justify-center space-y-4 rounded-lg border p-6 text-center",children:[e.jsx(P,{size:64,className:"text-yellow-500"}),e.jsx("h2",{className:"text-xl font-bold",children:"Pembayaran Tertunda"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Anda memiliki pembayaran yang belum selesai untuk kelas ini. Silakan lanjutkan untuk membayar."}),e.jsx(d,{asChild:!0,className:"w-full",children:e.jsx("a",{href:n,children:"Lanjutkan Pembayaran"})})]}):e.jsxs("form",{onSubmit:w,children:[e.jsx("h2",{className:"my-2 text-xl font-bold italic",children:"Detail Pembayaran"}),e.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[r?e.jsx("div",{className:"flex items-center justify-between p-4 text-center",children:e.jsx("span",{className:"w-full text-2xl font-bold text-green-600",children:"BOOTCAMP GRATIS"})}):e.jsxs(e.Fragment,{children:[e.jsx(T,{type:"text",placeholder:"Masukkan Kode Promo (Opsional)",className:"w-full"}),e.jsxs("div",{className:"space-y-2 rounded-lg border p-4",children:[a.strikethrough_price>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Harga Asli"}),e.jsxs("span",{className:"font-semibold text-gray-500",children:["Rp ",a.strikethrough_price.toLocaleString("id-ID")]})]}),a.strikethrough_price>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Diskon"}),e.jsxs("span",{className:"font-semibold text-red-500",children:["-Rp ",(a.strikethrough_price-a.price).toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Harga Kelas"}),e.jsxs("span",{className:"font-semibold text-gray-500",children:["Rp ",a.price.toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pajak"}),e.jsx("span",{className:"font-semibold text-gray-500",children:"+Rp 0"})]}),e.jsx(C,{className:"my-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Harga Total"}),e.jsxs("span",{className:"text-xl font-bold",children:["Rp ",a.price.toLocaleString("id-ID")]})]})]})]}),!r&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{id:"terms",checked:c,onCheckedChange:s=>y(s===!0)}),e.jsx(L,{htmlFor:"terms",children:"Saya menyetujui syarat dan ketentuan"})]}),e.jsx(d,{className:"w-full",type:"submit",disabled:(r?!1:!c)||u,children:u?"Memproses...":r?"Dapatkan Akses Gratis Sekarang":"Bayar Sekarang"})]})]})]})})]})}export{pe as default};
