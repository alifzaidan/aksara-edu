import{r as v,j as e,L as K,S as U}from"./app-C8WJGVms.js";import{B as b,b as E,r as z,p as G}from"./index-CzEWuSiA.js";import{a as W,C as J,b as N,E as V}from"./Editor-CP1dowQ2.js";import{u as Q,F as X,B as Z,a as i,b as c,c as d,d as f,e as m,P as k,f as S,g as w,C as ee,h as ae,i as te,j as ne,k as se,l as re,r as y,s as le,o as oe,n as D,q as x,p as ie}from"./types-BvrixsEv.js";import{I as g}from"./input-DpLH5aAJ.js";import{T as $}from"./textarea-DR2_h0nb.js";import{A as ce}from"./admin-layout-B_487vZ5.js";import{c as de,t as C,m as me}from"./format-CNXW5F6a.js";import{C as ue}from"./chevrons-up-down-BZ4IXdiV.js";import{C as pe}from"./index-BwGVif0H.js";import{C as T}from"./chevron-left-CAtZ4tqy.js";import"./chevron-right-BZJBAhf3.js";import"./index-nMAXSRiA.js";import"./Combination-BKEMi8Ry.js";import"./dropdown-menu-B2VrO1GR.js";import"./search-DMIBerbs.js";import"./label-C1-nNjaQ.js";import"./sonner-9BOs_UYV.js";import"./index-D2EUVE0Q.js";import"./breadcrumbs-Djyptyjk.js";import"./tooltip-UxmCwPWk.js";import"./index-DQCi8w1X.js";function he(u,p,r){return de(u,+C(u)+p)}function xe(u,p,r){return he(u,p*me)}function ge(u,p,r){const h=C(u,r==null?void 0:r.in);return h.setHours(p),h}function je(u,p,r){const h=C(u,r==null?void 0:r.in);return h.setMinutes(p),h}function ve(u,p,r){const h=C(u,r==null?void 0:r.in);return h.setSeconds(p),h}const be=[{title:"Webinar",href:route("webinars.index")},{title:"Tambah Webinar Baru",href:route("webinars.create")}],fe=oe({title:x().nonempty("Judul harus diisi"),category_id:x().nonempty("Kategori harus dipilih"),description:x().nullable(),benefits:x().nullable(),thumbnail:ie().nullable(),start_time:x(),end_time:x(),registration_deadline:x(),host_name:x().nullable(),host_description:x().nullable(),price:D().min(0),quota:D().min(0),instructions:x().nullable(),batch:D().min(0)});function He(u){const[p,r]=v.useState(!1),[h,F]=v.useState(!1),[B,_]=v.useState(!1),[R,M]=v.useState(!1),[Y,I]=v.useState(null),P=new Date,L=W(P,7),A=xe(L,2);let j=W(P,6);j=ge(j,23),j=je(j,59),j=ve(j,0);const s=Q({resolver:le(fe),defaultValues:{title:"",category_id:"",description:"",benefits:`<ul>
                        <li>Mendapatkan materi eksklusif</li>
                        <li>Sertifikat peserta</li>
                        <li>Akses rekaman webinar</li>
                    </ul>`,thumbnail:"",start_time:L.toISOString(),end_time:A.toISOString(),registration_deadline:j.toISOString(),host_name:"",host_description:"",price:0,quota:0,instructions:"",batch:0}});function H(a){U.post(route("webinars.store"),a,{forceFormData:!0})}return e.jsxs(ce,{breadcrumbs:be,children:[e.jsx(K,{title:"Tambah Webinar Baru"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Tambah Webinar Baru"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:'Silakan isi form di bawah ini untuk membuat webinar baru. Setelah selesai, klik tombol "Simpan Draft" untuk menyimpan webinar sebagai draft.'}),e.jsx(X,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(H),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{size:16}),e.jsx("h3",{className:"font-medium",children:"Detail Informasi Webinar"})]}),e.jsx(i,{control:s.control,name:"title",render:({field:a})=>e.jsxs(c,{children:[e.jsxs(d,{children:["Judul Webinar ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(f,{children:e.jsx(g,{placeholder:"Masukkan judul webinar",...a,autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"category_id",render:({field:a})=>{var t;return e.jsxs(c,{className:"flex flex-col",children:[e.jsxs(d,{children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(k,{open:p,onOpenChange:r,children:[e.jsx(S,{asChild:!0,children:e.jsx(f,{children:e.jsxs(b,{variant:"outline",role:"combobox",className:E("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(t=u.categories.find(n=>n.id===a.value))==null?void 0:t.name:"Pilih kategori",e.jsx("span",{className:"sr-only",children:"Pilih kategori"}),e.jsx(ue,{className:"opacity-50"})]})})}),e.jsx(w,{className:"p-0",children:e.jsxs(ee,{children:[e.jsx(ae,{placeholder:"Cari kategori...",className:"h-9"}),e.jsxs(te,{children:[e.jsx(ne,{children:"Tidak ada kategori ditemukan."}),e.jsx(se,{children:u.categories.map(n=>e.jsxs(re,{value:n.name,onSelect:()=>{s.setValue("category_id",n.id),r(!1)},children:[n.name,e.jsx(pe,{className:E("ml-auto",n.id===a.value?"opacity-100":"opacity-0")})]},n.id))})]})]})})]}),e.jsx(m,{})]})}}),e.jsx(i,{control:s.control,name:"description",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Deskripsi Lengkap"}),e.jsx($,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi lengkap",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"thumbnail",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Thumbnail (File Upload)"}),e.jsx("img",{src:Y||"/assets/images/placeholder.png",alt:"Preview Thumbnail",className:"my-1 mt-2 h-40 w-64 rounded border object-cover"}),e.jsx(g,{type:"file",name:a.name,accept:"image/*",onChange:t=>{var l;const n=((l=t.target.files)==null?void 0:l[0])??null;if(a.onChange(n),n){const o=new FileReader;o.onload=q=>{var O;return I((O=q.target)==null?void 0:O.result)},o.readAsDataURL(n)}else I(null)}}),e.jsx(y,{className:"ms-1",children:"Upload Icon. Format: PNG atau JPG Max 2 Mb"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"price",render:({field:a})=>e.jsxs(c,{children:[e.jsxs(d,{children:["Harga ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{...a,type:"text",placeholder:"Masukkan harga kursus",value:z.format(a.value||0),onChange:t=>a.onChange(G(t.target.value)),autoComplete:"off"}),e.jsx(y,{className:"ms-1",children:"Isi 0 untuk harga webinar gratis"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"batch",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Batch"}),e.jsx(f,{children:e.jsx(g,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan batch",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"quota",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Kuota Peserta"}),e.jsx(f,{children:e.jsx(g,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan kuota peserta",autoComplete:"off"})}),e.jsx(y,{className:"ms-1",children:"Isi 0 untuk kuota tak terbatas"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"instructions",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Instruksi Peserta"}),e.jsx($,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan instruksi setelah peserta mendaftar",autoComplete:"off"}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{size:16}),e.jsx("h3",{className:"font-medium",children:"Tanggal dan Informasi Pemateri"})]}),e.jsx(i,{control:s.control,name:"start_time",render:({field:a})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsxs(d,{children:["Waktu Mulai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:h,onOpenChange:F,children:[e.jsx(S,{asChild:!0,children:e.jsxs(b,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(T,{})]})}),e.jsx(w,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(N,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{if(!t)return;const l=(a.value?new Date(a.value):new Date).toTimeString().slice(0,8)||"00:00:00",o=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;a.onChange(`${o}T${l}`),F(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(g,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,l=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,o=t.target.value||"00:00";a.onChange(`${l}T${o}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"end_time",render:({field:a})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsxs(d,{children:["Waktu Selesai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:B,onOpenChange:_,children:[e.jsx(S,{asChild:!0,children:e.jsxs(b,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(T,{})]})}),e.jsx(w,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(N,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{const l=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],o=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(o&&l?`${o}T${l}`:""),_(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(g,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,l=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,o=t.target.value||"00:00";a.onChange(`${l}T${o}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"registration_deadline",render:({field:a})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsxs(d,{children:["Deadline Pendaftaran ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:R,onOpenChange:M,children:[e.jsx(S,{asChild:!0,children:e.jsxs(b,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(T,{})]})}),e.jsx(w,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(N,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{const l=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],o=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(o&&l?`${o}T${l}`:""),M(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(g,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,l=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,o=t.target.value||"00:00";a.onChange(`${l}T${o}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"host_name",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Nama Pemateri"}),e.jsx(f,{children:e.jsx(g,{placeholder:"Masukkan nama pemateri",...a,value:a.value??"",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"host_description",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Deskripsi Pemateri"}),e.jsx($,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi pemateri",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"benefits",render:({field:a})=>e.jsxs(c,{children:[e.jsx(d,{children:"Benefit Mengikuti Webinar"}),e.jsx(V,{apiKey:void 0,value:a.value??"",onEditorChange:t=>a.onChange(t),init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount"],onboarding:!1,toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],height:300}}),e.jsx(m,{})]})})]}),e.jsx(b,{type:"submit",children:"Simpan Draft"})]})})]})]})}export{He as default};
