import{r as j,j as e,L as H,S as K}from"./app-DKWWGPkh.js";import{B as v}from"./button-C7Y5qsip.js";import{a as E,C as U,b as C}from"./calendar-CfGlGXJU.js";import{C as G}from"./checkbox-CBzjjcPT.js";import{u as J,F as V,a as i,b as l,c,d as x,e as m,P as b,f as k,g as f,C as Q,h as X,i as Z,j as ee,k as ae,l as te,m as N}from"./popover-8mr5IIld.js";import{I as p}from"./input-CIebaUxA.js";import{T as y}from"./textarea-DangYk5b.js";import{A as ne}from"./admin-layout-C6YqKfRO.js";import{c as W,r as se,p as re}from"./utils-Bvi-Pw0s.js";import{B as oe,s as ie,o as le,a as ce,n as D,b as d,c as me}from"./types-Q8hJ2tnW.js";import{E as de}from"./Editor-DvCTJcq5.js";import{e as pe,t as ue,q as he}from"./format-Bp4OdCl_.js";import{C as xe}from"./chevrons-up-down-k3rUxTzs.js";import{C as ge}from"./check-BZMnaMW7.js";import{C as $}from"./chevron-down-5BnfJYxK.js";import{s as je,a as ve,b as be}from"./setSeconds-Bkh18Hr9.js";import"./index-DJs6N27V.js";import"./createLucideIcon-CHYVP_IS.js";import"./chevron-left-B04iHQbQ.js";import"./chevron-right-Cn5DrFg_.js";import"./index-DWK5kEmi.js";import"./index-DG-61H9u.js";import"./index-DPP3oJkb.js";import"./index-DMJuNojM.js";import"./index-D0x_N1Tp.js";import"./index-D374XHgT.js";import"./index-D4YDkQ-Y.js";import"./Combination-D5NuUan2.js";import"./floating-ui.react-dom-CUpBpmTS.js";import"./search-DMM3-CPe.js";import"./label-CD0LHiYo.js";import"./sonner-BMsXMUpS.js";import"./index-CX9g9tSg.js";import"./breadcrumbs-b1p3mPog.js";import"./x-Cs-MBYkT.js";import"./tooltip-YyHjWF9N.js";import"./index-ALjdojli.js";import"./index-C7sUzjcQ.js";import"./dropdown-menu-D7it2NYV.js";import"./index-HU1vpvM9.js";import"./circle-DkcJcbW3.js";import"./users-D7P5pSnU.js";import"./presentation-EYAiFwBg.js";function ke(u,g,S){return pe(u,+ue(u)+g)}function fe(u,g,S){return ke(u,g*he)}const Se=[{title:"Webinar",href:route("webinars.index")},{title:"Tambah Webinar Baru",href:route("webinars.create")}],we=le({title:d().nonempty("Judul harus diisi"),category_id:d().nonempty("Kategori harus dipilih"),description:d().nullable(),benefits:d().nullable(),thumbnail:me().nullable(),start_time:d(),end_time:d(),registration_deadline:d(),host_name:d().nullable(),host_description:d().nullable(),price:D().min(0),quota:D().min(0),instructions:d().nullable(),batch:D().min(0),tools:ce(d()).optional()});function ua({categories:u,tools:g}){const[S,T]=j.useState(!1),[B,F]=j.useState(!1),[q,I]=j.useState(!1),[R,M]=j.useState(!1),[Y,P]=j.useState(null),_=new Date,L=E(_,7),A=fe(L,2);let h=E(_,6);h=je(h,23),h=ve(h,59),h=be(h,0);const s=J({resolver:ie(we),defaultValues:{title:"",category_id:"",description:"",benefits:`<ul>
                        <li>Mendapatkan materi eksklusif</li>
                        <li>Sertifikat peserta</li>
                        <li>Akses rekaman webinar</li>
                    </ul>`,thumbnail:"",start_time:L.toISOString(),end_time:A.toISOString(),registration_deadline:h.toISOString(),host_name:"",host_description:"",price:0,quota:0,instructions:"",batch:1,tools:[]}});function z(a){K.post(route("webinars.store"),a,{forceFormData:!0})}return e.jsxs(ne,{breadcrumbs:Se,children:[e.jsx(H,{title:"Tambah Webinar Baru"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Tambah Webinar Baru"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:'Silakan isi form di bawah ini untuk membuat webinar baru. Setelah selesai, klik tombol "Simpan Draft" untuk menyimpan webinar sebagai draft.'}),e.jsx(V,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(z),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{size:16}),e.jsx("h3",{className:"font-medium",children:"Detail Informasi Webinar"})]}),e.jsx(i,{control:s.control,name:"title",render:({field:a})=>e.jsxs(l,{children:[e.jsxs(c,{children:["Judul Webinar ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{children:e.jsx(p,{placeholder:"Masukkan judul webinar",...a,autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"category_id",render:({field:a})=>{var t;return e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(b,{open:S,onOpenChange:T,children:[e.jsx(k,{asChild:!0,children:e.jsx(x,{children:e.jsxs(v,{variant:"outline",role:"combobox",className:W("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(t=u.find(n=>n.id===a.value))==null?void 0:t.name:"Pilih kategori",e.jsx("span",{className:"sr-only",children:"Pilih kategori"}),e.jsx(xe,{className:"opacity-50"})]})})}),e.jsx(f,{className:"p-0",children:e.jsxs(Q,{children:[e.jsx(X,{placeholder:"Cari kategori...",className:"h-9"}),e.jsxs(Z,{children:[e.jsx(ee,{children:"Tidak ada kategori ditemukan."}),e.jsx(ae,{children:u.map(n=>e.jsxs(te,{value:n.name,onSelect:()=>{s.setValue("category_id",n.id),T(!1)},children:[n.name,e.jsx(ge,{className:W("ml-auto",n.id===a.value?"opacity-100":"opacity-0")})]},n.id))})]})]})})]}),e.jsx(m,{})]})}}),e.jsx(i,{control:s.control,name:"tools",render:()=>e.jsxs(l,{children:[e.jsx(c,{children:"Tools yang Digunakan"}),e.jsx("div",{className:"text-muted-foreground mb-2 text-sm",children:"Pilih tools yang digunakan pada bootcamp ini."}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:g.map(a=>e.jsx(i,{control:s.control,name:"tools",render:({field:t})=>{var n;return e.jsxs(l,{className:"flex flex-row items-center gap-2 space-y-0",children:[e.jsx(x,{children:e.jsx(G,{checked:(n=t.value)==null?void 0:n.includes(a.id),onCheckedChange:o=>{var r;o?t.onChange([...t.value??[],a.id]):t.onChange((r=t.value)==null?void 0:r.filter(w=>w!==a.id))}})}),e.jsx(c,{className:"text-sm font-normal",children:a.name})]})}},a.id))}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"description",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Deskripsi Lengkap"}),e.jsx(y,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi lengkap",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"thumbnail",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Thumbnail (File Upload)"}),e.jsx("img",{src:Y||"/assets/images/placeholder.png",alt:"Preview Thumbnail",className:"my-1 mt-2 h-40 w-64 rounded border object-cover"}),e.jsx(p,{type:"file",name:a.name,accept:"image/*",onChange:t=>{var o;const n=((o=t.target.files)==null?void 0:o[0])??null;if(a.onChange(n),n){const r=new FileReader;r.onload=w=>{var O;return P((O=w.target)==null?void 0:O.result)},r.readAsDataURL(n)}else P(null)}}),e.jsx(N,{className:"ms-1",children:"Upload Icon. Format: PNG atau JPG Max 2 Mb"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"price",render:({field:a})=>e.jsxs(l,{children:[e.jsxs(c,{children:["Harga ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(p,{...a,type:"text",placeholder:"Masukkan harga kursus",value:se.format(a.value||0),onChange:t=>a.onChange(re(t.target.value)),autoComplete:"off"}),e.jsx(N,{className:"ms-1",children:"Isi 0 untuk harga webinar gratis"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"batch",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Batch"}),e.jsx(x,{children:e.jsx(p,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan batch",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"quota",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Kuota Peserta"}),e.jsx(x,{children:e.jsx(p,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan kuota peserta",autoComplete:"off"})}),e.jsx(N,{className:"ms-1",children:"Isi 0 untuk kuota tak terbatas"}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{size:16}),e.jsx("h3",{className:"font-medium",children:"Tanggal dan Informasi Pemateri"})]}),e.jsx(i,{control:s.control,name:"start_time",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Waktu Mulai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(b,{open:B,onOpenChange:F,children:[e.jsx(k,{asChild:!0,children:e.jsxs(v,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx($,{})]})}),e.jsx(f,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(C,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{if(!t)return;const o=(a.value?new Date(a.value):new Date).toTimeString().slice(0,8)||"00:00:00",r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;a.onChange(`${r}T${o}`),F(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,o=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,r=t.target.value||"00:00";a.onChange(`${o}T${r}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"end_time",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Waktu Selesai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(b,{open:q,onOpenChange:I,children:[e.jsx(k,{asChild:!0,children:e.jsxs(v,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx($,{})]})}),e.jsx(f,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(C,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{const o=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],r=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(r&&o?`${r}T${o}`:""),I(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,o=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,r=t.target.value||"00:00";a.onChange(`${o}T${r}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"registration_deadline",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Deadline Pendaftaran ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(b,{open:R,onOpenChange:M,children:[e.jsx(k,{asChild:!0,children:e.jsxs(v,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx($,{})]})}),e.jsx(f,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(C,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{const o=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],r=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(r&&o?`${r}T${o}`:""),M(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const n=a.value?new Date(a.value):new Date,o=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,r=t.target.value||"00:00";a.onChange(`${o}T${r}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"host_name",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Nama Pemateri"}),e.jsx(x,{children:e.jsx(p,{placeholder:"Masukkan nama pemateri",...a,value:a.value??"",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"host_description",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Deskripsi Pemateri"}),e.jsx(y,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi pemateri",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"benefits",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Benefit Mengikuti Webinar"}),e.jsx(de,{apiKey:"7apjqdre3ocnt08y5t5zlqyaytlom537pj6qbe0hlxhborco",value:a.value??"",onEditorChange:t=>a.onChange(t),init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount"],onboarding:!1,toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],height:300}}),e.jsx(m,{})]})}),e.jsx(i,{control:s.control,name:"instructions",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Instruksi Peserta"}),e.jsx(y,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan instruksi setelah peserta mendaftar",autoComplete:"off"}),e.jsx(m,{})]})})]}),e.jsx(v,{type:"submit",className:"hover:cursor-pointer",children:"Simpan Draft"})]})})]})]})}export{ua as default};
