import{r,m as N,j as e}from"./app-C8WJGVms.js";import{I as a}from"./input-error-BZOMu0Ol.js";import{B as h}from"./index-CzEWuSiA.js";import{b as I,c as k,d as F,e as E,f as R}from"./dialog-D7R_xJ1X.js";import{I as c}from"./input-DpLH5aAJ.js";import{L as n}from"./label-C1-nNjaQ.js";import{T as S}from"./textarea-DR2_h0nb.js";import"./index-nMAXSRiA.js";import"./Combination-BKEMi8Ry.js";function U({course:t,setOpen:d}){const m=r.useRef(null),g=r.useRef(null),x=r.useRef(null),f=r.useRef(null),j=r.useRef(null),v=r.useRef(null),y=r.useRef(null),{data:o,setData:l,put:b,processing:C,reset:_,errors:i,clearErrors:u}=N({title:t.title,category_id:t.category_id,short_description:t.short_description??"",description:t.description??"",thumbnail:t.thumbnail?new File([t.thumbnail],"thumbnail"):null,price:t.price,level:t.level});r.useEffect(()=>{l({title:t.title,category_id:t.category_id,short_description:t.short_description??"",description:t.description??"",thumbnail:null,price:t.price,level:t.level}),u()},[t,l,u]);const D=s=>{s.preventDefault(),b(route("courses.update",t.id),{preserveScroll:!0,onSuccess:()=>{d(!1),_(),u()},onError:()=>{var p;return(p=m.current)==null?void 0:p.focus()}})};return e.jsxs(I,{children:[e.jsx(k,{children:"Edit Kursus"}),e.jsx(F,{children:"Ubah data kursus sesuai kebutuhan."}),e.jsxs("form",{className:"space-y-6",onSubmit:D,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"title",className:"sr-only",children:"Judul Kursus"}),e.jsx(c,{id:"title",type:"text",name:"title",ref:m,value:o.title,onChange:s=>l("title",s.target.value),placeholder:"Judul Kursus",autoComplete:"off"}),e.jsx(a,{message:i.title}),e.jsx(n,{htmlFor:"category",className:"sr-only",children:"Kategori"}),e.jsx(c,{id:"category",type:"text",name:"category",ref:g,value:o.category_id,onChange:s=>l("category_id",s.target.value),placeholder:"Kategori",autoComplete:"off"}),e.jsx(a,{message:i.category_id}),e.jsx(n,{htmlFor:"short_description",className:"sr-only",children:"Deskripsi Singkat"}),e.jsx(c,{id:"short_description",type:"text",name:"short_description",ref:x,value:o.short_description||"",onChange:s=>l("short_description",s.target.value),placeholder:"Deskripsi Singkat (opsional)",autoComplete:"off"}),e.jsx(a,{message:i.short_description}),e.jsx(n,{htmlFor:"description",className:"sr-only",children:"Deskripsi"}),e.jsx(S,{id:"description",name:"description",ref:f,value:o.description??"",onChange:s=>l("description",s.target.value),placeholder:"Deskripsi (opsional)",className:"resize-none"}),e.jsx(a,{message:i.description}),e.jsx(n,{htmlFor:"thumbnail",className:"sr-only",children:"Thumbnail"}),e.jsx(c,{id:"thumbnail",type:"file",name:"thumbnail",ref:j,onChange:s=>{var p;return l("thumbnail",((p=s.target.files)==null?void 0:p[0])??null)},placeholder:"Thumbnail (opsional)"}),e.jsx(a,{message:i.thumbnail}),e.jsx(n,{htmlFor:"price",className:"sr-only",children:"Harga"}),e.jsx(c,{id:"price",type:"number",name:"price",ref:v,value:o.price,onChange:s=>l("price",Number(s.target.value)),placeholder:"Harga"}),e.jsx(a,{message:i.price}),e.jsx(n,{htmlFor:"level",className:"sr-only",children:"Level"}),e.jsx(c,{id:"level",type:"text",name:"level",ref:y,value:o.level,onChange:s=>l("level",s.target.value),placeholder:"Level"}),e.jsx(a,{message:i.level})]}),e.jsxs(E,{className:"gap-2",children:[e.jsx(R,{asChild:!0,children:e.jsx(h,{variant:"secondary",onClick:()=>d(!1),children:"Batal"})}),e.jsx(h,{disabled:C,asChild:!0,children:e.jsx("button",{type:"submit",children:"Simpan Perubahan"})})]})]})]})}export{U as default};
